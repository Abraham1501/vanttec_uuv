<launch>

    <param name="robot_description" textfile="$(find uuv_control)/models/vtec_u3.urdf" />

    <!-- Load map -->
    <node type="rviz" name="rviz" pkg="rviz" args="-d $(find uuv_control)/launch/rviz_cfg/map_trajectory.rviz" />
    <node name="map_server" pkg="map_server" type="map_server" args="$(find uuv_map_tools)/maps/map2.yaml">
        <param name="frame_id" value="world"/>
    </node>

    <!-- Load trajectory planner -->
    <node pkg="uuv_motion_planning" name="s_curve_trajectory_planner" type="s_curve_trajectory_planner_node" output="screen">
        <rosparam file="$(find uuv_motion_planning)/config/planner_config.yaml"/>
    </node>

    <node name="tf2_broadcaster_node" pkg="uuv_control" type="tf2_broadcaster_node">
        <!-- world is NWU -->
        <param name="parent_frame" value="world" />
        <param name="child_frame" value="uuv" />
    </node>

    <node name="vtec_u4_pid2_node" pkg="uuv_control" type="vtec_u4_pid2_node" output="screen">
        <rosparam file="$(find uuv_control)/config/VTec_U4_PID_Gains.yaml"/>
        <rosparam file="$(find uuv_control)/config/uuv_init_cond.yaml"/>
    </node>

</launch>